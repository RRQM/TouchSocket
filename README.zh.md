**ä¸­** | [En](./README.md)
<p></p>
<p></p>
<p align="center">
<img src="logo.png" width = "100" height = "100" alt="å›¾ç‰‡åç§°" align=center />
</p>

 <div align="center"> 

[![NuGet(TouchSocket)](https://img.shields.io/nuget/v/TouchSocket.svg?label=TouchSocket)](https://www.nuget.org/packages/TouchSocket/)
[![NuGet(TouchSocket)](https://img.shields.io/nuget/dt/TouchSocket.svg)](https://www.nuget.org/packages/TouchSocket/)
[![License](https://img.shields.io/badge/license-Apache%202-4EB1BA.svg)](https://www.apache.org/licenses/LICENSE-2.0.html)
[![star](https://gitee.com/RRQM_Home/TouchSocket/badge/star.svg?theme=gvp)](https://gitee.com/RRQM_Home/TouchSocket/stargazers) 
[![star](https://gitcode.com/RRQM_Home/TouchSocket/star/badge.svg)](https://gitcode.com/RRQM_Home/TouchSocket) 
[![fork](https://gitee.com/RRQM_Home/TouchSocket/badge/fork.svg?theme=gvp)](https://gitee.com/RRQM_Home/TouchSocket/members)
<a href="https://jq.qq.com/?_wv=1027&k=gN7UL4fw">
<img src="https://img.shields.io/badge/QQç¾¤-234762506-red" alt="QQ">
</a>
[![NuGet(TouchSocket)](https://img.shields.io/github/stars/RRQM/TouchSocket?logo=github)](https://github.com/RRQM/TouchSocket)


</div>  

<div align="center">

ä¸‰ååŠŸåå°˜ä¸åœŸï¼Œå…«åƒé‡Œè·¯äº‘å’Œæœˆã€‚

</div>

## ğŸ€æè¿°

![Alt](https://repobeats.axiom.co/api/embed/7b543e0b31f0488b08dfd319fafca0044dfd1050.svg "Repobeats analytics image")

`TouchSocket`æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„.NET ç½‘ç»œé€šä¿¡æ¡†æ¶ï¼Œé€‚ç”¨äºC#ã€VB.Net å’Œ F#ç­‰è¯­è¨€ã€‚å®ƒæä¾›äº†å¤šç§é€šä¿¡æ¨¡å—ï¼ŒåŒ…æ‹¬TCPã€UDPã€SSLã€WebSocketã€Modbusç­‰ã€‚æ”¯æŒè§£å†³TCPé»åŒ…åˆ†åŒ…é—®é¢˜å’ŒUDPå¤§æ•°æ®åŒ…åˆ†ç‰‡ç»„åˆé—®é¢˜ã€‚æ¡†æ¶æ”¯æŒå¤šç§åè®®æ¨¡æ¿ï¼Œå¿«é€Ÿå®ç°å›ºå®šåŒ…å¤´ã€å›ºå®šé•¿åº¦å’ŒåŒºé—´å­—ç¬¦ç­‰æ•°æ®æŠ¥æ–‡è§£æã€‚

***

## ğŸŒŸç›¸å…³æ–‡æ¡£

- [æ–‡æ¡£é¦–é¡µ](https://touchsocket.net/)
- [æ–°æ‰‹å…¥é—¨](https://touchsocket.net/docs/current/startguide)
- [APIæ–‡æ¡£](https://touchsocket.net/api/)

***

## ğŸ–¥æ”¯æŒç¯å¢ƒ

- .NET Framework4.5åŠä»¥ä¸Šã€‚
- .NET 6.0åŠä»¥ä¸Šã€‚
- .NET Standard2.0åŠä»¥ä¸Šã€‚

## ğŸ¥ªæ”¯æŒæ¡†æ¶

- Console
- WPF
- Winform
- Blazor
- Xamarin
- MAUI
- Avalonia 
- Mono
- Unity 3Dï¼ˆé™¤WebGLï¼‰
- å…¶ä»–ï¼ˆå³æ‰€æœ‰C#ç³»ï¼‰


## ğŸŒ´TouchSocketç‰¹ç‚¹é€Ÿè§ˆ

#### ä¼ ç»ŸIOCPå’ŒTouchSocketçš„IOCPæ¨¡å¼

TouchSocketçš„IOCPå’Œä¼ ç»Ÿä¹Ÿä¸ä¸€æ ·ï¼Œå°±ä»¥å¾®è½¯å®˜æ–¹ç¤ºä¾‹ä¸ºä¾‹ï¼Œä»–æ˜¯ä½¿ç”¨MemoryBufferå¼€è¾Ÿä¸€å—å†…å­˜ï¼Œå‡åˆ†ï¼Œç„¶åç»™æ¯ä¸ªä¼šè¯åˆ†é…ä¸€ä¸ªåŒºæ¥æ”¶ï¼Œç­‰æ”¶åˆ°æ•°æ®åï¼Œå†**å¤åˆ¶**æ¥æ”¶çš„æ•°æ®ï¼Œç„¶åæŠŠå¤åˆ¶çš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚è€ŒTouchSocketæ˜¯æ¯æ¬¡æ¥æ”¶ä¹‹å‰ï¼Œä»å†…å­˜æ± æ‹¿ä¸€ä¸ªå¯ç”¨å†…å­˜å—ï¼Œç„¶å**ç›´æ¥ç”¨äºæ¥æ”¶**ï¼Œç­‰æ”¶åˆ°æ•°æ®ä»¥åï¼Œç›´æ¥å°±æŠŠè¿™ä¸ªå†…å­˜å—æŠ›å‡ºå¤„ç†ï¼Œè¿™æ ·å°±é¿å…äº†**å¤åˆ¶æ“ä½œ**ï¼Œè™½ç„¶åªæ˜¯ç»†å°çš„è®¾è®¡ï¼Œä½†æ˜¯åœ¨ä¼ è¾“**10w**æ¬¡**64kb**çš„æ•°æ®æ—¶ï¼Œæ€§èƒ½ç›¸å·®äº†**10å€**ã€‚

#### æ•°æ®å¤„ç†é€‚é…å™¨

ç›¸ä¿¡å¤§å®¶éƒ½ä½¿ç”¨è¿‡å…¶ä»–çš„Socketäº§å“ï¼Œé‚£ä¹ˆTouchSocketåœ¨è®¾è®¡æ—¶ä¹Ÿæ˜¯å€Ÿé‰´äº†å…¶ä»–äº§å“çš„ä¼˜ç§€è®¾è®¡ç†å¿µï¼Œ[æ•°æ®å¤„ç†é€‚é…å™¨](https://touchsocket.net/docs/current/adapterdescription)å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½†å’Œå…¶ä»–äº§å“çš„è®¾è®¡ä¸åŒçš„æ˜¯ï¼ŒTouchSocketçš„é€‚é…å™¨åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œæ˜“ç”¨ï¼Œä¸”çµæ´»ã€‚å®ƒä¸ä»…å¯ä»¥æå‰è§£ææ•°æ®åŒ…ï¼Œè¿˜å¯ä»¥è§£ææ•°æ®å¯¹è±¡ï¼Œå¯ä»¥éšæ—¶æ›¿æ¢ï¼Œç„¶åç«‹å³ç”Ÿæ•ˆã€‚ä¾‹å¦‚ï¼šå¯ä»¥ä½¿ç”¨å›ºå®šåŒ…å¤´å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œä»è€Œè§£å†³**æ•°æ®åˆ†åŒ…**ã€**ç²˜åŒ…**çš„é—®é¢˜ã€‚ä¹Ÿå¯ä»¥ç›´æ¥è§£æ**HTTP**æ•°æ®åè®®ã€WebSocketæ•°æ®åè®®ç­‰ã€‚

#### å…¼å®¹æ€§ä¸é€‚é…

TouchSocketæä¾›å¤šç§æ¡†æ¶æ¨¡å‹ï¼Œèƒ½å¤Ÿå®Œå…¨å…¼å®¹åŸºäºTCPã€UDPåè®®çš„æ‰€æœ‰åè®®ã€‚ä¾‹å¦‚ï¼šTcpServiceä¸TcpClientï¼Œå…¶åŸºç¡€åŠŸèƒ½å’ŒSocketä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯å¢å¼ºäº†æ¡†æ¶çš„**åšå›ºæ€§**å’Œ**å¹¶å‘æ€§**ï¼Œå°†**è¿æ¥**å’Œ**æ¥æ”¶æ•°æ®**é€šè¿‡äº‹ä»¶çš„å½¢å¼æŠ›å‡ºï¼Œè®©ä½¿ç”¨è€…èƒ½å¤Ÿæ›´åŠ å‹å¥½çš„ä½¿ç”¨ã€‚

## ğŸ”—è”ç³»ä½œè€…

- [CSDNåšå®¢ä¸»é¡µ](https://blog.csdn.net/qq_40374647)
- [å“”å“©å“”å“©è§†é¢‘](https://space.bilibili.com/94253567)
- [æºä»£ç ä»“åº“ä¸»é¡µ](https://gitee.com/RRQM_Home) 
- äº¤æµQQç¾¤ï¼š[234762506](https://jq.qq.com/?_wv=1027&k=gN7UL4fw)


## ğŸ‘‘åŠŸèƒ½å¯¼å›¾

<p align="center">
<img src="images/1.png" alt="å›¾ç‰‡åç§°" align=center />
</p>

## âœ¨ç®€å•ç¤ºä¾‹

 **_ä»¥ä¸‹ä»…ä»¥æœ€ç®€æ–¹å¼åˆ›å»ºç¤ºä¾‹ï¼Œæ›´å¤šè¯¦æƒ…è¯·æŸ¥çœ‹[è¯´æ˜æ–‡æ¡£](https://touchsocket.net/)ã€‚_** 

#### TcpService

```
TcpService service = new TcpService();
service.Connected = (client, e) => { return EasyTask.CompletedTask; };//æœ‰å®¢æˆ·ç«¯è¿æ¥
service.Closed = (client, e) => { return EasyTask.CompletedTask; };//æœ‰å®¢æˆ·ç«¯æ–­å¼€è¿æ¥
service.Received = (client, e) =>
{
    //ä»å®¢æˆ·ç«¯æ”¶åˆ°ä¿¡æ¯
    string mes = e.ByteBlock.Span.ToString(Encoding.UTF8);
    Console.WriteLine($"å·²ä»{client.Id}æ¥æ”¶åˆ°ä¿¡æ¯ï¼š{mes}");
    return EasyTask.CompletedTask;
};
await service.StartAsync(7789);//å¯åŠ¨
```

#### TcpClient

```
TcpClient tcpClient = new TcpClient();
tcpClient.Connected = (client, e) => { return EasyTask.CompletedTask; };//æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨
tcpClient.Closed = (client, e) => { return EasyTask.CompletedTask; };//ä»æœåŠ¡å™¨æ–­å¼€è¿æ¥ï¼Œå½“è¿æ¥ä¸æˆåŠŸæ—¶ä¸ä¼šè§¦å‘ã€‚
tcpClient.Received = (client, e) =>
{
    //ä»æœåŠ¡å™¨æ”¶åˆ°ä¿¡æ¯
    string mes = e.ByteBlock.Span.ToString(Encoding.UTF8);
    Console.WriteLine($"æ¥æ”¶åˆ°ä¿¡æ¯ï¼š{mes}");
    return EasyTask.CompletedTask;
};

await tcpClient.ConnectAsync("127.0.0.1:7789");

//å‘é€ä¿¡æ¯åˆ°æœåŠ¡å™¨
await tcpClient.SendAsync("Hello");
```

#### TcpClient æ–­çº¿é‡è¿

åœ¨Configçš„æ’ä»¶é…ç½®ä¸­ï¼Œä½¿ç”¨é‡è¿æ’ä»¶å³å¯ã€‚

```
.ConfigurePlugins(a=> 
{
   a.UseReconnection(5, true, 1000);
});
```

#### FixedHeaderPackageAdapteråŒ…æ¨¡å¼

è¯¥é€‚é…å™¨ä¸»è¦è§£å†³Tcpç²˜åˆ†åŒ…é—®é¢˜ï¼Œæ•°æ®æ ¼å¼é‡‡ç”¨ç®€å•è€Œé«˜æ•ˆçš„â€œåŒ…å¤´+æ•°æ®ä½“â€çš„æ¨¡å¼ï¼Œå…¶ä¸­åŒ…å¤´æ”¯æŒï¼š

- Byteæ¨¡å¼ï¼ˆ1+nï¼‰ï¼Œä¸€æ¬¡æ€§æœ€å¤§æ¥æ”¶255å­—èŠ‚çš„æ•°æ®ã€‚
- Ushortæ¨¡å¼ï¼ˆ2+nï¼‰ï¼Œä¸€æ¬¡æœ€å¤§æ¥æ”¶65535å­—èŠ‚ã€‚
- Intæ¨¡å¼ï¼ˆ4+nï¼‰ï¼Œä¸€æ¬¡æœ€å¤§æ¥æ”¶2Gæ•°æ®ã€‚

ä»¥ä¸Šæ•°æ®å¤´å‡é‡‡ç”¨TouchSocketBitConverterçš„é»˜è®¤ç«¯æ¨¡å¼ï¼ˆå°ç«¯æ¨¡å¼ï¼‰ï¼Œä½¿ç”¨è€…å¯ä»¥æ ¹æ®éœ€æ±‚åˆ‡æ¢é»˜è®¤ç«¯æ¨¡å¼ã€‚

```
TouchSocketBitConverter.DefaultEndianType = EndianType.Little;
```

#### CustomFixedHeaderDataHandlingAdapter

ç”¨æˆ·è‡ªå®šä¹‰å›ºå®šåŒ…å¤´é€‚é…å™¨ï¼Œä¸»è¦å¸®åŠ©ç”¨æˆ·è§£å†³å…·æœ‰å›ºå®šåŒ…å¤´çš„æ•°æ®å¸§ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼šä¸‹åˆ—æ•°æ®æ ¼å¼ï¼Œä»…éœ€è¦å®ç°å‡ ä¸ªæ¥å£ï¼Œå°±èƒ½å®Œæˆè§£æï¼Œè¯¦ç»†æ“ä½œè¯·å‚ç…§APIã€‚

|1|1|1|**********|

#### CustomUnfixedHeaderDataHandlingAdapter

ç”¨æˆ·è‡ªå®šä¹‰ä¸å›ºå®šåŒ…å¤´é€‚é…å™¨ï¼Œä¸»è¦å¸®åŠ©ç”¨æˆ·è§£å†³å…·æœ‰åŒ…å¤´ä¸å›ºå®šçš„æ•°æ®å¸§ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼šæœ€å…¸å‹çš„HTTPæ•°æ®åŒ…ï¼Œå…¶æ•°æ®å¤´å’Œæ•°æ®ä½“ç”±â€œ\r\nâ€éš”å¼€ï¼Œè€Œæ•°æ®å¤´åˆå› ä¸ºè¯·æ±‚è€…çš„è¯·æ±‚ä¿¡æ¯çš„ä¸åŒï¼Œå¤´éƒ¨æ•°æ®ä¹Ÿä¸å›ºå®šï¼Œè€Œæ•°æ®ä½“çš„é•¿åº¦ï¼Œä¹Ÿæ˜¯ç”±æ•°æ®å¤´çš„ContentLengthçš„å€¼æ˜¾å¼æŒ‡å®šçš„ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ä½¿ç”¨CustomUnfixedHeaderDataHandlingAdapterè§£æï¼Œä¹Ÿæ˜¯ä»…é€šè¿‡ç®€å•çš„å¼€å‘ï¼Œå°±èƒ½å®ç°ã€‚

***

## è‡´è°¢

è°¢è°¢å¤§å®¶å¯¹TouchSocketçš„æ”¯æŒï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·æäº¤Issueï¼Œæˆ–è€…åŠ ç¾¤QQï¼š[234762506](https://jq.qq.com/?_wv=1027&k=gN7UL4fw)è®¨è®ºã€‚

æ„Ÿè°¢ä¸‹åˆ—å·¥å…·è½¯ä»¶çš„æ”¯æŒ

- [Visual Studio](https://visualstudio.microsoft.com/zh-hans/)
- [JetBrains](https://www.jetbrains.com/)
- [Visual Studio Code](https://code.visualstudio.com/)

## æ”¯æŒä½œè€…

- [æ‰“èµæ”¯æŒ](https://touchsocket.net/docs/current/donate)
- [Proæ”¯æŒ](https://touchsocket.net/docs/current/enterprise)

## ç‰¹åˆ«å£°æ˜

TouchSocketé¡¹ç›®å·²åŠ å…¥[dotNET China](https://gitee.com/dotnetchina) ç»„ç»‡ã€‚


![dotnetchina](https://images.gitee.com/uploads/images/2021/0324/120117_2da9922c_416720.png "132645_21007ea0_974299.png")

