<p></p>
<p></p>
<p align="center">
<img src="https://i.loli.net/2021/05/07/vJy17TEMkZgrsxo.png" width = "100" height = "100" alt="å›¾ç‰‡åç§°" align=center />
</p>

 <div align="center"> 
  
[![NuGet version (RRQMSocket)](https://img.shields.io/nuget/v/RRQMSocket.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket/)
[![License](https://img.shields.io/badge/license-Apache%202-4EB1BA.svg)](https://www.apache.org/licenses/LICENSE-2.0.html)
[![Download](https://img.shields.io/nuget/dt/RRQMSocket)](https://www.nuget.org/packages/RRQMSocket/)
[![star](https://gitee.com/dotnetchina/RRQMSocket/badge/star.svg?theme=gvp)](https://gitee.com/dotnetchina/RRQMSocket/stargazers) 
[![fork](https://gitee.com/dotnetchina/RRQMSocket/badge/fork.svg?theme=gvp)](https://gitee.com/dotnetchina/RRQMSocket/members)

</div> 

<div align="center">

åˆæŠ±ä¹‹æœ¨ï¼Œç”Ÿäºæ¯«æœ«ï¼›ä¹å±‚ä¹‹å°ï¼Œèµ·äºå’åœŸã€‚

</div>
<div align="center">

**ç®€ä½“ä¸­æ–‡ | [English](./README.md)**

</div>

## ğŸ’¿æè¿°
|åç§°|ç‰ˆæœ¬ï¼ˆNuget Versionï¼‰|ä¸‹è½½ï¼ˆNuget Downloadï¼‰|æè¿°|
|:---:|---|---|---|
|RRQMSocket| [![NuGet version (RRQMSocket)](https://img.shields.io/nuget/v/RRQMSocket.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket/)                                        | [![Download](https://img.shields.io/nuget/dt/RRQMSocket)](https://www.nuget.org/packages/RRQMSocket/) | **RRQMSocket**æ˜¯ä¸€ä¸ªæ•´åˆæ€§çš„ã€è¶…è½»é‡çº§çš„ç½‘ç»œé€šä¿¡æœåŠ¡æ¡†æ¶ã€‚å®ƒå…·æœ‰ **é«˜å¹¶å‘è¿æ¥** ã€ **é«˜å¹¶å‘å¤„ç†** ã€ **äº‹ä»¶è®¢é˜…** ã€ **æ’ä»¶å¼æ‰©å±•** ã€ **å¤šçº¿ç¨‹å¤„ç†** ã€ **å†…å­˜æ± ** ã€ **å¯¹è±¡æ± ** ç­‰ç‰¹ç‚¹ï¼Œè®©ä½¿ç”¨è€…èƒ½å¤Ÿæ›´åŠ ç®€å•çš„ã€å¿«é€Ÿçš„æ­å»ºç½‘ç»œæ¡†æ¶ã€‚åœ¨å‘é€æ•ˆç‡ä¸Šï¼ŒåŒæ­¥å‘é€å¯è¾¾**20w/s**ï¼Œå¼‚æ­¥å‘é€å¯è¾¾**60w/s**ã€‚æœåŠ¡å™¨åœ¨æ¥æ”¶ã€å¤„ç†æ•ˆç‡ä¸Šå› **çº¿ç¨‹æ•°é‡**è€Œå®šã€‚|
| RRQMSocket.FileTransfer | [![NuGet version (RRQMSocket.FileTransfer)](https://img.shields.io/nuget/v/RRQMSocket.FileTransfer.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.FileTransfer/) | [![Download](https://img.shields.io/nuget/dt/RRQMSocket.FileTransfer)](https://www.nuget.org/packages/RRQMSocket.FileTransfer/) | RRQMSocket.FileTransferæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ–‡ä»¶ä¼ è¾“æ¡†æ¶ï¼Œæ‚¨å¯ä»¥ç”¨å®ƒä¼ è¾“**ä»»æ„å¤§å°**çš„æ–‡ä»¶ï¼Œå®ƒå¯ä»¥å®Œç¾æ”¯æŒ**ä¸Šä¼ ä¸‹è½½æ··åˆå¼é˜Ÿåˆ—ä¼ è¾“**ã€**æ–­ç‚¹ç»­ä¼ **ã€ **å¿«é€Ÿä¸Šä¼ ** ã€**ä¼ è¾“é™é€Ÿ**ã€**è·å–æ–‡ä»¶ä¿¡æ¯**ã€**åˆ é™¤æ–‡ä»¶**ç­‰ã€‚åœ¨å®æ—¶æµ‹è¯•ä¸­ï¼Œå®ƒçš„ä¼ è¾“é€Ÿç‡å¯è¾¾500Mb/sã€‚ |
|RRQMSocket.RPC | [![NuGet version (RRQMSocket.RPC)](https://img.shields.io/nuget/v/RRQMSocket.RPC.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.RPC/)                            | [![Download](https://img.shields.io/nuget/dt/RRQMSocket.RPC)](https://www.nuget.org/packages/RRQMSocket.RPC/) | RRQMSocket.RPCæ˜¯ä¸€ä¸ªè¶…è½»é‡ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å¾®æœåŠ¡ç®¡ç†å¹³å°æ¡†æ¶ï¼Œç›®å‰å·²å®Œæˆå¼€å‘**RRQMRPC**ã€**XmlRpc**ã€**JsonRpc**ã€**WebApi**éƒ¨åˆ†ã€‚**RRQMRPC**éƒ¨åˆ†ä½¿ç”¨RRQMä¸“å±åè®®ï¼Œæ”¯æŒå®¢æˆ·ç«¯**å¼‚æ­¥è°ƒç”¨**ï¼ŒæœåŠ¡ç«¯**å¼‚æ­¥è§¦å‘**ã€ä»¥åŠ**out**å’Œ**ref**å…³é”®å­—ï¼Œ**å‡½æ•°å›è°ƒ**ç­‰ã€‚åœ¨è°ƒç”¨æ•ˆç‡ä¸Šä¹Ÿæ˜¯éå¸¸å¼ºæ‚ï¼Œåœ¨è°ƒç”¨ç©ºè½½å‡½æ•°ï¼Œä¸”è¿”å›çŠ¶æ€æ—¶ï¼Œ**10w**æ¬¡è°ƒç”¨ä»…ç”¨æ—¶**3.8**ç§’ï¼Œä¸è¿”å›çŠ¶æ€ç”¨æ—¶**0.9**ç§’ã€‚å…¶ä»–åè®®è°ƒç”¨æ€§èƒ½è¯¦çœ‹æ€§èƒ½è¯„æµ‹ã€‚|
|RRQMSocket.RPC.WebApi | [![NuGet version (RRQMSocket.RPC.WebApi)](https://img.shields.io/nuget/v/RRQMSocket.RPC.WebApi.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.RPC.WebApi/)| [![Download](https://img.shields.io/nuget/dt/RRQMSocket.RPC.WebApi)](https://www.nuget.org/packages/RRQMSocket.RPC.WebApi/) | RRQMSocket.RPC.WebApiæ˜¯ä¸€ä¸ªæ‰©å±•äºRRQMSocket.RPCçš„WebApiç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥ç»„ä»¶åˆ›å»ºWebApiæœåŠ¡è§£æå™¨ï¼Œè®©æ¡Œé¢ç«¯ã€Webç«¯ã€ç§»åŠ¨ç«¯å¯ä»¥è·¨è¯­è¨€è°ƒç”¨RPCå‡½æ•°ã€‚åŠŸèƒ½æ”¯æŒè·¯ç”±ã€Getä¼ å‚ã€Postä¼ å‚ç­‰ã€‚|
|RRQMSocket.RPC.XmlRpc | [![NuGet version (RRQMSocket.RPC.XmlRpc)](https://img.shields.io/nuget/v/RRQMSocket.RPC.XmlRpc.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.RPC.XmlRpc/)| [![Download](https://img.shields.io/nuget/dt/RRQMSocket.RPC.XmlRpc)](https://www.nuget.org/packages/RRQMSocket.RPC.XmlRpc/) | RRQMSocket.RPC.XmlRpcæ˜¯ä¸€ä¸ªæ‰©å±•äºRRQMSocket.RPCçš„XmlRpcç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥ç»„ä»¶åˆ›å»ºXmlRpcæœåŠ¡è§£æå™¨ï¼Œå®Œç¾æ”¯æŒXmlRpcæ•°æ®ç±»å‹ï¼Œç±»å‹åµŒå¥—ï¼ŒArrayç­‰ï¼Œä¹Ÿèƒ½ä¸CookComputing.XmlRpcV2å®Œç¾å¯¹æ¥ã€‚ä¸é™Webï¼ŒAndroidç­‰å¹³å°ã€‚|
|RRQMSocket.RPC.JsonRpc | [![NuGet version (RRQMSocket.RPC.JsonRpc)](https://img.shields.io/nuget/v/RRQMSocket.RPC.JsonRpc.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.RPC.JsonRpc/)| [![Download](https://img.shields.io/nuget/dt/RRQMSocket.RPC.JsonRpc)](https://www.nuget.org/packages/RRQMSocket.RPC.JsonRpc/) | RRQMSocket.RPC.JsonRpcæ˜¯ä¸€ä¸ªæ‰©å±•äºRRQMSocket.RPCçš„JsonRpcç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥ç»„ä»¶åˆ›å»ºJsonRpcæœåŠ¡è§£æå™¨ï¼Œæ”¯æŒJsonRpcå…¨éƒ¨åŠŸèƒ½ï¼Œå¯ä¸Webï¼ŒAndroidç­‰å¹³å°æ— ç¼å¯¹æ¥ã€‚|
| RRQMSocket.Http | [![NuGet version (RRQMSocket.Http)](https://img.shields.io/nuget/v/RRQMSocket.Http.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSocket.Http/)                         | [![Download](https://img.shields.io/nuget/dt/RRQMSocket.Http)](https://www.nuget.org/packages/RRQMSocket.Http/) | RRQMSocket.Httpæ˜¯ä¸€ä¸ªèƒ½å¤Ÿç®€å•è§£æHttpçš„æœåŠ¡ç»„ä»¶ï¼Œèƒ½å¤Ÿå¿«é€Ÿå“åº”HttpæœåŠ¡è¯·æ±‚ã€‚|

## ğŸ–¥æ”¯æŒç¯å¢ƒ
- .NET Framework4.5åŠä»¥ä¸Šã€‚
- .NET Core3.1åŠä»¥ä¸Šã€‚
- .NET Standard2.0åŠä»¥ä¸Šã€‚

## ğŸ¥ªæ”¯æŒæ¡†æ¶
- WPF
- Winform
- Blazor
- Xamarin
- Mono
- Unity
- å…¶ä»–ï¼ˆå³æ‰€æœ‰C#ç³»ï¼‰

## ğŸŒ´RRQMSocketç‰¹ç‚¹é€Ÿè§ˆ

#### å¯¹è±¡æ± 

å¯¹è±¡æ± åœ¨RRQMSocketæœ‰å¾ˆå¤šåº”ç”¨ï¼Œæœ€ä¸»è¦çš„ä¸¤ä¸ªå°±æ˜¯**è¿æ¥å¯¹è±¡æ± **å’Œ**å¤„ç†å¯¹è±¡æ± **ã€‚è¿æ¥å¯¹è±¡æ± å°±æ˜¯å½“å®¢æˆ·ç«¯æˆåŠŸè¿æ¥æ—¶ï¼Œé¦–å…ˆä¼šå»è¿æ¥å¯¹è±¡æ± ä¸­æ‰¾TcpSocketClientï¼Œç„¶åæ²¡æœ‰çš„è¯ï¼Œæ‰ä¼šåˆ›å»ºã€‚å¦‚æœå“ªä¸ªå®¢æˆ·ç«¯æ‰çº¿äº†ï¼Œå®ƒçš„TcpSocketClientå°±ä¼šè¢«å›æ”¶ã€‚è¿™ä¹Ÿå°±æ˜¯**IDé‡ç”¨**çš„åŸå› ã€‚

ç„¶åå°±æ˜¯å¤„ç†å¯¹è±¡æ± ï¼Œåœ¨RRQMSocketä¸­ï¼Œæ¥æ”¶æ•°æ®çš„çº¿ç¨‹å’ŒIOCPå†…æ ¸çº¿ç¨‹æ˜¯åˆ†å¼€çš„ï¼Œä¹Ÿå°±æ˜¯æ¯”å¦‚è¯´å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€äº†1wæ¡æ•°æ®ï¼Œä½†æ˜¯æœåŠ¡å™¨æ”¶åˆ°åå¤„ç†èµ·æ¥å¾ˆæ…¢ï¼Œé‚£ä¼ ç»Ÿçš„iocpè‚¯å®šä¼šæ”¾æ…¢æ¥æ”¶é€Ÿç‡ï¼Œç„¶åé€šçŸ¥å®¢æˆ·ç«¯çš„tcpçª—å£ï¼Œå‘ç”Ÿæ‹¥å¡ï¼Œç„¶åè®©å®¢æˆ·ç«¯æš‚ç¼“å‘é€ã€‚ä½†æ˜¯åœ¨RRQMSocketä¸­ä¼šæŠŠæ”¶åˆ°çš„æ•°æ®é€šè¿‡é˜Ÿåˆ—å…¨éƒ½å­˜èµ·æ¥ï¼Œé¦–å…ˆä¸å½±å“iocpçš„æ¥æ”¶ï¼ŒåŒæ—¶å†åˆ†é…çº¿ç¨‹å»å¤„ç†æ”¶åˆ°çš„æŠ¥æ–‡ä¿¡æ¯ï¼Œè¿™æ ·å°±ç›¸å½“äºä¸€ä¸ªâ€œæ³„æ´ªæ¹–æ³Šâ€ï¼Œèƒ½å¾ˆå¤§ç¨‹åº¦çš„æé«˜å¤„ç†æ•°æ®çš„èƒ½åŠ›ã€‚

#### å¤šçº¿ç¨‹

ç”±äºæœ‰**å¤„ç†å¯¹è±¡æ± **çš„å­˜åœ¨ï¼Œä½¿å¤šçº¿ç¨‹å¤„ç†å˜å¾—ç®€å•ã€‚åœ¨å®¢æˆ·ç«¯è¿æ¥å®Œæˆæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ†é…è¯¥å®¢æˆ·ç«¯è¾…åŠ©ç±»ï¼ˆTcpSocketClientï¼‰çš„æ¶ˆæ¯å¤„ç†é€»è¾‘çº¿ç¨‹ï¼Œå‡å¦‚æœåŠ¡å™¨çº¿ç¨‹æ•°é‡ä¸º10ï¼Œåˆ™ç¬¬ä¸€ä¸ªè¿æ¥çš„å®¢æˆ·ç«¯ä¼šè¢«åˆ†é…åˆ°0å·çº¿ç¨‹ä¸­ï¼Œç¬¬äºŒä¸ªè¿æ¥å°†è¢«åˆ†é…åˆ°1å·çº¿ç¨‹ä¸­ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¾ªç¯åˆ†é…ã€‚å½“æŸä¸ªå®¢æˆ·ç«¯æ”¶åˆ°æ•°æ®æ—¶ï¼Œä¼šå°†æ•°æ®æ’å…¥å½“å‰çº¿ç¨‹æ‰€ç‹¬è‡ªæ‹¥æœ‰çš„é˜Ÿåˆ—å½“ä¸­ï¼Œå¹¶å”¤é†’çº¿ç¨‹æ‰§è¡Œã€‚

#### ä¼ ç»ŸIOCPå’ŒRRQMSocket

RRQMSocketçš„IOCPå’Œä¼ ç»Ÿä¹Ÿä¸ä¸€æ ·çš„ï¼Œä»¥å¾®è½¯å®˜æ–¹ä¸ºä¾‹ï¼Œä½¿ç”¨MemoryBufferå¼€è¾Ÿä¸€å—å†…å­˜ï¼Œç„¶åå‡åˆ†ï¼Œç„¶åç»™æ¯ä¸ªä¼šè¯åˆ†é…ä¸€ä¸ªåŒºæ¥æ”¶ï¼Œç­‰æ”¶åˆ°æ•°æ®ä»¥åï¼Œå†å¤åˆ¶ä¸€ä»½ï¼Œç„¶åæŠŠå¤åˆ¶çš„æ•°æ®æŠ›å‡ºå¤„ç†ã€‚è€ŒRRQMSocketæ˜¯æ¯æ¬¡æ¥æ”¶ä¹‹å‰ï¼Œä»å†…å­˜æ± æ‹¿ä¸€ä¸ªå¯ç”¨å†…å­˜å—ï¼Œç„¶åç›´æ¥ç”¨äºæ¥æ”¶ï¼Œç­‰æ”¶åˆ°æ•°æ®ä»¥åï¼Œç›´æ¥å°±æŠŠè¿™ä¸ªå†…å­˜å—æŠ›å‡ºå»äº†ï¼Œè¿™æ ·å°±é¿å…äº†**å¤åˆ¶æ“ä½œ**ï¼Œè™½ç„¶åªæ˜¯ç»†å°çš„è®¾è®¡ï¼Œä½†æ˜¯åœ¨ä¼ è¾“**1000w**æ¬¡**64kb**çš„æ•°æ®æ—¶ï¼Œæ€§èƒ½ç›¸å·®äº†**10å€**ã€‚æ‰€ä»¥ä¹Ÿæ˜¯åŸºäºæ­¤ï¼Œæ–‡ä»¶ä¼ è¾“æ—¶æ•ˆç‡æ‰ä¼šé«˜ã€‚

#### æ•°æ®å¤„ç†é€‚é…å™¨

ç›¸ä¿¡å¤§å®¶éƒ½ä½¿ç”¨è¿‡å…¶ä»–çš„Socketäº§å“ï¼Œä¾‹å¦‚HPSocketï¼ŒSuperSocketç­‰ï¼Œé‚£ä¹ˆRRQMSocketåœ¨è®¾è®¡æ—¶ä¹Ÿæ˜¯å€Ÿé‰´äº†å…¶ä»–äº§å“çš„ä¼˜ç§€è®¾è®¡ç†å¿µï¼Œæ•°æ®å¤„ç†é€‚é…å™¨å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½†å’Œå…¶ä»–äº§å“çš„è®¾è®¡ä¸åŒçš„æ˜¯ï¼ŒRRQMSocketçš„é€‚é…å™¨åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œå®ƒå¯ä»¥æ— è§†çœŸå®çš„æ•°æ®ï¼Œè€Œæ¨¡æ‹Ÿå‡ºæƒ³è¦çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼šå¯ä»¥å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œä»è€Œè§£å†³æ•°æ®åˆ†åŒ…ã€‚ç²˜åŒ…çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è§£æHTTPåè®®ï¼Œç»è¿‡é€‚é…å™¨å¤„ç†åä¼ å›ä¸€ä¸ªHttpRequestå¯¹è±¡ç­‰ã€‚

#### ç²˜åŒ…ã€åˆ†åŒ…è§£å†³

åœ¨RRQMSocketä¸­å¤„ç†TCPç²˜åŒ…ã€åˆ†åŒ…é—®é¢˜æ˜¯éå¸¸ç®€å•çš„ã€‚åªéœ€è¦æ›´æ”¹ä¸åŒçš„**æ•°æ®å¤„ç†é€‚é…å™¨**å³å¯ã€‚ä¾‹å¦‚ï¼šä½¿ç”¨**å›ºå®šåŒ…å¤´**ï¼Œåªéœ€è¦ç»™TcpSocketClientå’ŒTcpClientèµ‹å€¼**FixedHeaderDataHandlingAdapter**çš„å®ä¾‹å³å¯ã€‚åŒæ ·å¯¹åº”çš„å¤„ç†å™¨ä¹Ÿæœ‰**å›ºå®šé•¿åº¦** ã€ **ç»ˆæ­¢å­—ç¬¦åˆ†å‰²** ç­‰ã€‚

## ğŸ”—è”ç³»ä½œè€…

 - [CSDNåšå®¢ä¸»é¡µ](https://blog.csdn.net/qq_40374647)
 - [å“”å“©å“”å“©è§†é¢‘](https://space.bilibili.com/94253567)
 - [æºä»£ç ä»“åº“ä¸»é¡µ](https://gitee.com/RRQM_Home) 
 - äº¤æµQQç¾¤ï¼š234762506

## âœ¨APIæ–‡æ¡£

[RRQMSocket APIæ–‡æ¡£](https://gitee.com/RRQM_OS/RRQM/wikis/pages)

 
## ğŸ“¦ å®‰è£…

- [Nuget RRQMSocket](https://www.nuget.org/packages/RRQMSocket/)
- [å¾®è½¯Nugetå®‰è£…æ•™ç¨‹](https://docs.microsoft.com/zh-cn/nuget/quickstart/install-and-use-a-package-in-visual-studio)

## ğŸ»RRQMç³»äº§å“
| åç§°| ç‰ˆæœ¬ï¼ˆNuget Versionï¼‰|ä¸‹è½½ï¼ˆNuget Downloadï¼‰| æè¿° |
|------|----------|-------------|-------|
| [RRQMCore](https://gitee.com/RRQM_OS/RRQMCore) | [![NuGet version (RRQMCore)](https://img.shields.io/nuget/v/RRQMCore.svg?style=flat-square)](https://www.nuget.org/packages/RRQMCore/) | [![Download](https://img.shields.io/nuget/dt/RRQMCore)](https://www.nuget.org/packages/RRQMCore/) | RRQMCoreæ˜¯ä¸ºRRQMç³»æä¾›åŸºç¡€æœåŠ¡åŠŸèƒ½çš„åº“ï¼Œå…¶ä¸­åŒ…å«ï¼š**å†…å­˜æ± **ã€**å¯¹è±¡æ± **ã€**ç­‰å¾…é€»è¾‘æ± **ã€**AppMessenger**ã€**3DESåŠ å¯†**ã€**Xmlå¿«é€Ÿå­˜å‚¨**ã€**è¿è¡Œæ—¶é—´æµ‹é‡å™¨**ã€**æ–‡ä»¶å¿«æ·æ“ä½œ**ã€**é«˜æ€§èƒ½åºåˆ—åŒ–å™¨**ã€**è§„èŒƒæ—¥å¿—æ¥å£**ç­‰ã€‚ |
| [RRQMMVVM](https://gitee.com/RRQM_OS/RRQMMVVM) | [![NuGet version (RRQMMVVM)](https://img.shields.io/nuget/v/RRQMMVVM.svg?style=flat-square)](https://www.nuget.org/packages/RRQMMVVM/) | [![Download](https://img.shields.io/nuget/dt/RRQMMVVM)](https://www.nuget.org/packages/RRQMMVVM/) | RRQMMVVMæ˜¯è¶…è½»ç®€çš„MVVMæ¡†æ¶ï¼Œä½†æ˜¯éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ã€‚|
| [RRQMSkin](https://gitee.com/RRQM_OS/RRQMSkin) | [![NuGet version (RRQMSkin)](https://img.shields.io/nuget/v/RRQMSkin.svg?style=flat-square)](https://www.nuget.org/packages/RRQMSkin/) | [![Download](https://img.shields.io/nuget/dt/RRQMSkin)](https://www.nuget.org/packages/RRQMSkin/) | RRQMSkinæ˜¯WPFçš„æ§ä»¶æ ·å¼åº“ï¼Œå…¶ä¸­åŒ…å«ï¼š **æ— è¾¹æ¡†çª—ä½“** ã€ **åœ†è§’çª—ä½“** ã€ **æ°´æ³¢çº¹æŒ‰é’®** ã€ **è¾“å…¥æç¤ºç­›é€‰æ¡†** ã€ **æ§ä»¶æ‹–åŠ¨æ•ˆæœ** ã€**åœ†è§’å›¾ç‰‡æ¡†**ã€ **å¼§å½¢æ–‡å­—** ã€ **æ‰‡å½¢å…ƒç´ ** ã€ **æŒ‡é’ˆå…ƒç´ ** ã€ **é¥¼å›¾** ã€ **æ—¶é’Ÿ** ã€ **é€Ÿåº¦è¡¨ç›˜** ç­‰ã€‚|  

## ğŸ’å¿«é€Ÿå…¥é—¨

## ä¸€ã€TCPæ¡†æ¶
### 1.1 åˆ›å»ºæœåŠ¡å™¨
è¯¦ç»†è¿‡ç¨‹è¯·é˜…è¯»[APIæ–‡æ¡£](https://gitee.com/RRQM_OS/RRQM/wikis/pages)ï¼Œä»¥ä¸‹ä»…ç®€å•ç¤ºä¾‹ã€‚

**åˆ›å»ºRRQMTcpService**

RRQMTcpServiceæ˜¯å¯¹TcpServiceçš„ç®€å•å°è£…ï¼ŒæŒ‡å®šè¾…åŠ©ç±»ä¸ºRRQMSocketClientï¼Œåœ¨è¾…åŠ©ç±»ä¸­ä¸åšä»»ä½•æ•°æ®å¤„ç†ï¼Œä»…å°†æ•°æ®åœ¨RRQMTcpServiceä¸­æŠ›å‡ºã€‚

```CSharp
RRQMTcpService service = new RRQMTcpService();

//è®¢é˜…äº‹ä»¶
//service.ClientConnected += Service_ClientConnected;//è®¢é˜…è¿æ¥äº‹ä»¶
//service.ClientDisconnected += Service_ClientDisconnected;//è®¢é˜…æ–­å¼€è¿æ¥äº‹ä»¶
//service.CreatSocketCliect += Service_CreatSocketCliect;//è®¢é˜…åˆ›å»ºè¾…åŠ©ç±»äº‹ä»¶ï¼Œå¯ç›´æ¥è®¾ç½®å…¶ä»–å±æ€§ã€‚
//service.OnReceived += Service_OnReceived;//å¯ç›´æ¥è®¢é˜…æ”¶åˆ°æ•°æ®äº‹ä»¶ã€‚

//å±æ€§è®¾ç½®
service.IsCheckClientAlive = true;//ä½¿ç”¨ç©ºåŒ…æ£€éªŒæ´»æ€§ï¼Œä¸ä¼šå¯¹æ•°æ®æœ‰ä»»ä½•å½±å“ã€‚
service.BufferLength = 1024;//è®¾ç½®ç¼“å­˜æ± å¤§å°ï¼Œè¯¥æ•°å€¼åœ¨æ¡†æ¶ä¸­ç»å¸¸ç”¨äºç”³è¯·ByteBlockï¼Œæ‰€ä»¥è¯¥å€¼ä¼šå½±å“å†…å­˜æ± æ•ˆç‡ã€‚
service.IDFormat = "TcpSocketClient_{0}";//è®¾ç½®åˆ†é…IDçš„æ ¼å¼ï¼Œ æ ¼å¼å¿…é¡»ç¬¦åˆå­—ç¬¦ä¸²æ ¼å¼ï¼Œè‡³å°‘åŒ…å«ä¸€ä¸ªè¡¥ä½ï¼Œ åˆå§‹å€¼ä¸ºâ€œ{0}-TCPâ€
service.Logger = new Log();//è®¾ç½®å†…éƒ¨æ—¥å¿—è®°å½•å™¨ï¼Œé»˜è®¤æ—¥å¿—æ˜¯æ§åˆ¶å°è¾“å‡ºã€‚
service.MaxCount = 1000;//è®¾ç½®æœ€å¤§è¿æ¥æ•°ï¼Œå¯åŠ¨æ€è®¾ç½®ï¼Œå½“å·²è¿æ¥æ•°è¶…è¿‡è®¾ç½®æ•°å€¼æ—¶ï¼Œå°†ä¸»åŠ¨æ–­å¼€å®¢æˆ·ç«¯ã€‚

//æ–¹æ³•
service.Bind(7789, 2);//ç»‘å®šç›‘å¬ï¼Œå¯ç»‘å®šIpv6ï¼Œå¯ç›‘å¬æ‰€æœ‰åœ°å€ã€‚

Console.WriteLine("RRQMTcpServiceç»‘å®šæˆåŠŸ");

```


**åˆ›å»ºTokenTcpService**

TokenTcpServiceæ˜¯ç»§æ‰¿äºTcpServiceçš„åŠŸèƒ½æ‰©å±•æœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡éªŒè¯â€œå£ä»¤â€å¯¹è¿æ¥çš„å®¢æˆ·ç«¯è¿›è¡Œç­›é€‰ï¼ŒåŠæ—¶çš„å°†**ä¸å…è®¸è¿æ¥**ã€**æ¶æ„è¿æ¥**ã€**ä¸å®‰å…¨è¿æ¥**çš„å®¢æˆ·ç«¯æ‹’ä¹‹é—¨å¤–ï¼Œä¹Ÿå¯ä»¥å®ç°**ç§Ÿæˆ·æ¨¡å¼**ã€‚

```CSharp
TokenTcpService<MyTcpSocketClient> service = new TokenTcpService<MyTcpSocketClient>();
service.VerifyToken = "ABC";

//æ–¹æ³•
service.Bind(7789, 2);//ç»‘å®šç›‘å¬ï¼Œå¯ç»‘å®šIpv6ï¼Œå¯ç›‘å¬æ‰€æœ‰åœ°å€ã€‚

Console.WriteLine("TokenTcpServiceç»‘å®šæˆåŠŸ");

```

**æ³¨æ„ï¼š** ä½¿ç”¨è¯¥æœåŠ¡å™¨å¿…é¡»éµå¾ªè¿æ¥åè®®ï¼Œæˆ–ä½¿ç”¨ä¸“å±å®¢æˆ·ç«¯ï¼ˆTokenTcpClientï¼‰è¿æ¥ã€‚

### 1.2 åˆ›å»ºå®¢æˆ·ç«¯

**åˆ›å»ºTcpClient**

TcpClientå¯ä¸ä»»æ„æœåŠ¡å™¨è¿›è¡Œè¿æ¥ã€æ”¶å‘ï¼Œå¤„ç†æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ›´åŠ æ–¹ä¾¿çš„å¤„ç†ç²˜åŒ…å’Œåˆ†åŒ…ï¼Œäº¦æˆ–è€…è§£ææ•°æ®ç»“æ„ã€‚

```CSharp
TcpClient client = new TcpClient();

//å±æ€§
client.BufferLength = 1024;//è®¾ç½®ç¼“å­˜æ± å¤§å°ï¼Œè¯¥æ•°å€¼åœ¨æ¡†æ¶ä¸­ç»å¸¸ç”¨äºç”³è¯·ByteBlockï¼Œæ‰€ä»¥è¯¥å€¼ä¼šå½±å“å†…å­˜æ± æ•ˆç‡ã€‚
client.Logger = new Log();//è®¾ç½®å†…éƒ¨æ—¥å¿—è®°å½•å™¨ï¼Œé»˜è®¤æ—¥å¿—æ˜¯æ§åˆ¶å°è¾“å‡ºã€‚
client.DataHandlingAdapter = new NormalDataHandlingAdapter();//æ•°æ®å¤„ç†é€‚é…å™¨ï¼Œå¯ç”¨äºå¤„ç†ç²˜åŒ…ã€è§£æå¯¹è±¡ã€‚

//äº‹ä»¶
//client.ConnectedService += Client_ConnectedService;
//client.DisconnectedService += Client_DisconnectedService;
//client.OnReceived += Client_OnReceived;

//æ–¹æ³•
client.Connect(new IPHost("127.0.0.1:7789"));//è¿æ¥
Console.WriteLine("è¿æ¥æˆåŠŸ");
client.Send(Encoding.UTF8.GetBytes("è‹¥æ±æ£‹èŒ—"));//å‘é€æ•°æ®
Console.WriteLine("å‘é€æˆåŠŸ");

```

**åˆ›å»ºTokenTcpClient**

```CSharp
TokenTcpClient client = new TokenTcpClient();

//å±æ€§
client.VerifyToken="ABC";//è®¾ç½®é“¾æ¥å£ä»¤ã€‚
client.BufferLength = 1024;//è®¾ç½®ç¼“å­˜æ± å¤§å°ï¼Œè¯¥æ•°å€¼åœ¨æ¡†æ¶ä¸­ç»å¸¸ç”¨äºç”³è¯·ByteBlockï¼Œæ‰€ä»¥è¯¥å€¼ä¼šå½±å“å†…å­˜æ± æ•ˆç‡ã€‚
client.Logger = new Log();//è®¾ç½®å†…éƒ¨æ—¥å¿—è®°å½•å™¨ï¼Œé»˜è®¤æ—¥å¿—æ˜¯æ§åˆ¶å°è¾“å‡ºã€‚
client.DataHandlingAdapter = new NormalDataHandlingAdapter();//æ•°æ®å¤„ç†é€‚é…å™¨ï¼Œå¯ç”¨äºå¤„ç†ç²˜åŒ…ã€è§£æå¯¹è±¡ã€‚

//äº‹ä»¶
//client.ConnectedService += Client_ConnectedService;
//client.DisconnectedService += Client_DisconnectedService;
//client.OnReceived += Client_OnReceived;

//æ–¹æ³•
client.Connect(new IPHost("127.0.0.1:7789"));//è¿æ¥
Console.WriteLine("è¿æ¥æˆåŠŸ");
client.Send(Encoding.UTF8.GetBytes("è‹¥æ±æ£‹èŒ—"));//å‘é€æ•°æ®
Console.WriteLine("å‘é€æˆåŠŸ");

```
### 1.3 æ•°æ®å¤„ç†é€‚é…å™¨

æ•°æ®å¤„ç†é€‚é…å™¨çš„ä¸»è¦ä½œç”¨å°±æ˜¯å¯¹å‘é€ã€æ¥æ”¶çš„æ•°æ®è¿›è¡Œå°è£…å’Œè§£æã€‚åœ¨RRQMSocketä¸­ï¼Œå¯ä»¥åˆ©ç”¨æ•°æ®å¤„ç†é€‚é…å™¨è§£å†³**ç²˜åŒ…**ã€**åˆ†åŒ…**é—®é¢˜ï¼Œä¹Ÿèƒ½**è§£æHttp**æ•°æ®æŠ¥æ–‡ã€‚

**ç±»å‹**

- **NormalDataHandlingAdapter**æ™®é€šTCPæŠ¥æ–‡å¤„ç†å™¨
- **FixedSizeDataHandlingAdapter**å›ºå®šé•¿åº¦TCPæŠ¥æ–‡å¤„ç†å™¨
- **TerminatorDataHandlingAdapter**ç»ˆæ­¢å­—ç¬¦TCPæŠ¥æ–‡å¤„ç†å™¨
- **FixedHeaderDataHandlingAdapter**å›ºå®šåŒ…å¤´TCPæŠ¥æ–‡å¤„ç†å™¨
- **HttpDataHandlingAdapter**è§£æHttpå¤„ç†å™¨ï¼ˆéœ€å®‰è£…RRQMSocket.Httpï¼‰

**å®¢æˆ·ç«¯ä½¿ç”¨**

å®¢æˆ·ç«¯æ¯”è¾ƒç®€å•ï¼Œç›´æ¥å¯¹å…¶èµ‹å€¼å³å¯ã€‚

```CSharp
client.DataHandlingAdapter = new NormalDataHandlingAdapter();//æ•°æ®å¤„ç†é€‚é…å™¨ï¼Œå¯ç”¨äºå¤„ç†ç²˜åŒ…ã€è§£æå¯¹è±¡ã€‚
```

**æœåŠ¡å™¨ä½¿ç”¨**

åœ¨æœåŠ¡å™¨ä½¿ç”¨é€‚é…å™¨æ—¶ï¼Œå¿…é¡»ä¿è¯æ¯ä¸ª**TcpSocketClient**éƒ½æ‹¥æœ‰ä¸€ä¸ª**å•ç‹¬å®ä¾‹**çš„é€‚é…å™¨ï¼Œæ‰€ä»¥å¯ä»¥è®¢é˜…**CreatSocketCliect**äº‹ä»¶ï¼Œç„¶ååˆå› ä¸ºRRQMSocketä¸­æœ‰è¿æ¥å¯¹è±¡æ± ï¼Œæ‰€ä»¥æœ€å¥½è¿›è¡Œ**æ–°åˆ›å»ºåˆ¤æ–­**ï¼Œç„¶åå†åˆ›å»ºå®ä¾‹åŒ–ï¼Œé¿å…å¤šæ¬¡å®ä¾‹åŒ–èµ‹å€¼å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚


```CSharp
 private static void Service_CreatSocketCliect(RRQMSocketClient arg1, CreatOption arg2)
 {
     if (arg2.NewCreate)
     {
         arg1.DataHandlingAdapter = new NormalDataHandlingAdapter();
     }
 }

```
å¦‚æœæ˜¯**è‡ªå®šä¹‰ç»§æ‰¿**çš„TcpSocketClientï¼Œå¯ä»¥é‡å†™**Create**æ–¹æ³•ã€‚

**æ³¨æ„ï¼šåœ¨æ„é€ å‡½æ•°å†…èµ‹å€¼é€‚é…å™¨æ— æ•ˆï¼Œä¼šè¢«Createæ–¹æ³•è¦†ç›–**

```CSharp
public class MyTcpSocketClient : TcpSocketClient
{
    /// <summary>
    /// åˆæ¬¡åˆ›å»ºå¯¹è±¡ï¼Œæ•ˆåº”ç›¸å½“äºæ„é€ å‡½æ•°ï¼Œä½†æ˜¯è°ƒç”¨æ—¶æœºåœ¨æ„é€ å‡½æ•°ä¹‹åï¼Œå¯è¦†ç›–çˆ¶ç±»æ–¹æ³•
    /// </summary>
    public override void Create()
    {
        this.DataHandlingAdapter = new NormalDataHandlingAdapter();//æ™®é€šTCPæŠ¥æ–‡å¤„ç†å™¨
        //this.DataHandlingAdapter = new FixedHeaderDataHandlingAdapter();//å›ºå®šåŒ…å¤´TCPæŠ¥æ–‡å¤„ç†å™¨
        //this.DataHandlingAdapter = new FixedSizeDataHandlingAdapter(1024);//å›ºå®šé•¿åº¦TCPæŠ¥æ–‡å¤„ç†å™¨
        //this.DataHandlingAdapter = new TerminatorDataHandlingAdapter(1024, "\r\n");//ç»ˆæ­¢å­—ç¬¦TCPæŠ¥æ–‡å¤„ç†å™¨
    }
}

```


#### 1.4 Demo
[RRQMBox](https://gitee.com/RRQM_OS/RRQMBox)


## äºŒã€æ–‡ä»¶ä¼ è¾“æ¡†æ¶

### 2.1 ç‰¹ç‚¹

- ç®€å•æ˜“ç”¨ã€‚
- å¤šçº¿ç¨‹å¤„ç†ã€‚
- é«˜æ€§èƒ½ï¼Œä¼ è¾“é€Ÿåº¦å¯è¾¾500Mb/sã€‚
- è¶…ç®€å•çš„ä¼ è¾“é™é€Ÿè®¾ç½®ï¼Œ1k-10Gb æ— çº§è°ƒèŠ‚ã€‚
- è¶…ç®€å•çš„ä¼ è¾“é€Ÿåº¦ã€ä¼ è¾“è¿›åº¦è·å–ã€‚
- éšå¿ƒæ‰€æ¬²çš„æš‚åœã€ç»§ç»­ã€åœæ­¢ä¼ è¾“ã€‚
- ç³»ç»ŸåŒ–çš„æƒé™ç®¡ç†ï¼Œè®©æ•æ„Ÿæ–‡ä»¶åªå…è®¸ç§æœ‰åŒ–ä¸‹è½½ã€‚
- éšæ—¶å‘é€æ¶ˆæ¯ï¼Œè®©å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤æµä¸å»¶è¿Ÿã€‚
- åŸºäºäº‹ä»¶é©±åŠ¨ï¼Œè®©æ¯ä¸€æ­¥æ“ä½œå°½åœ¨æŒæ¡ã€‚
- å¯è§†åŒ–çš„æ–‡ä»¶å—æµï¼Œå¯ä»¥å®ç°åƒè¿…é›·ä¸€æ ·çš„å¡«å……å¼è¿›åº¦æ¡ã€‚
- è¶…ç®€å•çš„æ–­ç‚¹ç»­ä¼ è®¾ç½®ï¼Œä¸ºå¤§æ–‡ä»¶ä¼ è¾“ä¿é©¾æŠ¤èˆªã€‚
- æ— çŠ¶æ€ä¸Šä¼ æ–­ç‚¹ç»­ä¼ è®¾ç½®ï¼Œè®©åŒä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ä¸åŒå®¢æˆ·ç«¯ä¹‹é—´æ¥åŠ›ä¸Šä¼ ã€‚
- å·²ç»ä¸Šä¼ çš„æ–‡ä»¶ï¼Œå†æ¬¡ä¸Šä¼ æ—¶ï¼Œå¯å®ç°å¿«é€Ÿä¸Šä¼ ã€‚
- æå°‘çš„GCé‡Šæ”¾ã€‚

### 2.2 åˆ›å»ºæ–‡ä»¶æœåŠ¡å™¨

ä»¥ä¸‹è¿›è¡Œç®€å•ç¤ºä¾‹ï¼Œè¯¦ç»†ä½¿ç”¨è§[æ–‡ä»¶ä¼ è¾“å…¥é—¨](https://gitee.com/RRQM_OS/RRQM/wikis/pages)

```Csharp
 FileService fileService = new FileService();
 fileService.VerifyToken ="123ABC";
 
 fileService.BreakpointResume = true;//æ”¯æŒæ–­ç‚¹ç»­ä¼ 
 try
 {
     fileService.Bind(7789,2);//ç›´æ¥ç›‘å¬7789ç«¯å£å·ã€‚å¤šçº¿ç¨‹ï¼Œé»˜è®¤ä¸º1ï¼Œæ­¤å¤„è®¾ç½®çº¿ç¨‹æ•°é‡ä¸º2
/* è®¢é˜…ç›¸å…³äº‹ä»¶
 fileService.ClientConnected += FileService_ClientConnected;
 fileService.ClientDisconnected += FileService_ClientDisconnected;

 fileService.BeforeTransfer += FileService_BeforeTransfer ;
 fileService.FinishedTransfer += FileService_FinishedTransfer ;
 fileService.ReceiveSystemMes += FileService_ReceiveSystemMes;
*/
 }
 catch (Exception ex)
 {
     MessageBox.Show(ex.Message);
 }
```

### 2.3 ä¼ è¾“æ–‡ä»¶

å…ˆåˆå§‹åŒ–å®¢æˆ·ç«¯ã€‚

```Csharp

FileClient fileClient = new FileClient();
//è®¢é˜…äº‹ä»¶
//fileClient.TransferFileError += FileClient_TransferFileError;
//fileClient.BeforeFileTransfer += this.FileClient_BeforeFileTransfer; ;
//fileClient.FinishedFileTransfer += this.FileClient_FinishedFileTransfer; ;
//fileClient.DisconnectedService += FileClient_DisConnectedService;
//fileClient.ReceiveSystemMes += this.FileClient_ReceiveSystemMes;
//fileClient.ConnectedService += this.FileClient_ConnectedService;
//fileClient.FileTransferCollectionChanged += this.FileClient_FileTransferCollectionChanged;
fileClient.Connect(new IPHost("127.0.0.1:7789"));//è¿æ¥æœåŠ¡å™¨ã€‚

```

è°ƒç”¨**RequestTransfer**è¿›è¡Œä¼ è¾“æ–‡ä»¶ã€‚æ­¤æ–¹æ³•å¯**ä¸Šä¼ **ï¼Œä¹Ÿå¯**ä¸‹è½½**ã€‚è¯·æ±‚æˆåŠŸåä¼šå°†ä¼ è¾“æ’å…¥é˜Ÿåˆ—ï¼Œç„¶åä¾æ¬¡ä¼ è¾“ã€‚

**ä¸Šä¼ **
```Csharp

//restartå±æ€§å¯ä»¥è‡ªç”±è®¾å®šã€‚
//breakpointResumeä¹Ÿå¯è‡ªç”±æŒ‡å®šï¼Œä½†æœ€å¥½æ˜¯ä»fileClientè·å–å±æ€§ã€‚
UrlFileInfo urlFileInfo = UrlFileInfo.CreatUpload("C:/1.txt", restart: true, breakpointResume: this.fileClient.BreakpointResume);
fileClient.RequestTransfer(urlFileInfo);
```

**ä¸‹è½½**
```Csharp

//restartå±æ€§å¯ä»¥è‡ªç”±è®¾å®šã€‚
UrlFileInfo urlFileInfo = UrlFileInfo.CreatDownload("C:/1.txt", restart: true);
fileClient.RequestTransfer(urlFileInfo);
```

### 2.4 å±æ€§è·å–

- **TransferSpeed**ï¼šè·å–ä¼ è¾“é€Ÿåº¦
- **TransferProgress**ï¼šè·å–ä¼ è¾“è¿›åº¦
- **TransferFileInfo**ï¼šè·å–æ­£åœ¨ä¼ è¾“çš„æ–‡ä»¶ä¿¡æ¯
- **TransferStatus**ï¼šè·å–ä¼ è¾“çŠ¶æ€
- **BreakpointResume**ï¼šè·å–æ˜¯å¦æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆè¯¥å±æ€§ä¸æœåŠ¡å™¨åŒæ­¥ï¼‰
- **ReceiveDirectory**ï¼šè·å–æˆ–è®¾ç½®æ¥æ”¶æ–‡ä»¶å¤¹
- **FileTransferCollection**ï¼šè·å–ä¼ è¾“æ–‡ä»¶é›†åˆ

### 2.5 åŠŸèƒ½æ–¹æ³•

```Csharp
fileClient.PauseTransfer();//æš‚åœä¼ è¾“
fileClient.ResumeTransfer();//æ¢å¤ä¼ è¾“

foreach (var item in fileClient.FileTransferCollection)
{
    fileClient.CancelTransfer(item);//ä»ä¼ è¾“åˆ—è¡¨ä¸­è·å¾—ä¼ è¾“ä¿¡æ¯ï¼Œç„¶åå–æ¶ˆè¯¥ä¼ è¾“ä»»åŠ¡
    break;
}

fileClient.StopThisTransfer();//åœæ­¢å½“å‰ä¸‹è½½
fileClient.StopAllTransfer();//åœæ­¢æ‰€æœ‰ä¸‹è½½
fileClient.SendSystemMessage("RRQM");//å‘é€ç³»ç»Ÿæ¶ˆæ¯
fileClient.SendBytesWaitReturn(new byte[10],0,10);//å‘ç”Ÿå­—èŠ‚æ•°ç»„å¹¶ç­‰å¾…è¿”å›

```

#### 2.6 Demoç¤ºä¾‹

 **Demoä½ç½®ï¼š** [RRQMBox](https://gitee.com/RRQM_OS/RRQMBox)

 **è¯´æ˜ï¼š** å¯ä»¥çœ‹åˆ°ï¼Œå›¾ä¸€æ­£åœ¨ä¸Šä¼ ä¸€ä¸ªWindowçš„ç³»ç»Ÿé•œåƒæ–‡ä»¶ï¼Œå¤§çº¦4.2Gbï¼Œä¼ è¾“é€Ÿåº¦å·²è¾¾åˆ°346Mb/sï¼Œè¿™æ˜¯å› ä¸ºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åœ¨åŒä¸€ç”µè„‘ä¸Šï¼Œç£ç›˜æ€§èƒ½é™åˆ¶å¯¼è‡´çš„ã€‚å…¶æ¬¡ï¼ŒGCåŸºæœ¬ä¸Šæ²¡æœ‰é‡Šæ”¾ï¼Œæ€§èƒ½éå¸¸å¼ºæ‚ï¼Œå›¾äºŒæ˜¯ä¸‹è½½æ–‡ä»¶ï¼Œæ€§èƒ½ä¾æ—§éå¸¸å¼ºæ‚ã€‚

![ä¸Šä¼ æ–‡ä»¶](https://images.gitee.com/uploads/images/2021/0409/190350_92a2ad36_8553710.png "ä¸Šä¼ æ–‡ä»¶")
![ä¸‹è½½æ–‡ä»¶](https://images.gitee.com/uploads/images/2021/0409/190954_a212982d_8553710.png "ä¸‹è½½æ–‡ä»¶")


## ä¸‰ã€RPCæ¡†æ¶

RPCæ¡†æ¶æ˜¯æ‰€æœ‰è¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„å¾®æœåŠ¡ç®¡ç†å¹³å°ï¼Œåœ¨è¯¥å¹³å°çš„æ‰˜ç®¡ä¸‹ï¼Œä½¿å¤šç§åè®®ã€å¤šç§åºåˆ—åŒ–æ–¹å¼è°ƒç”¨æˆä¸ºå¯èƒ½ã€‚ç›®å‰å¯ä½¿ç”¨RRQMRPCã€WebApiã€XmlRpcã€JsonRpcå…±åŒè°ƒç”¨ã€‚

### 3.1 RRQMRPC

**ç‰¹ç‚¹**
- ç®€å•æ˜“ç”¨ã€‚
- å¤šçº¿ç¨‹å¤„ç†ã€‚
- é«˜æ€§èƒ½ï¼Œåœ¨ä¿è¯é€è¾¾ä½†ä¸è¿”å›çš„æƒ…å†µä¸‹ï¼Œ10wæ¬¡è°ƒç”¨ç”¨æ—¶0.8sï¼Œåœ¨è¿”å›çš„æƒ…å†µä¸‹ï¼Œç”¨æ—¶3.9sã€‚
- æ”¯æŒTCPã€UDPç­‰ä¸åŒçš„åè®®è°ƒç”¨ç›¸åŒæœåŠ¡ã€‚
- æ”¯æŒæŒ‡å®šæœåŠ¡å¼‚æ­¥æ‰§è¡Œã€‚
- æ”¯æŒæƒé™ç®¡ç†ï¼Œè®©éæ³•è°ƒç”¨æ­»åœ¨èŒèŠ½æ—¶æœŸã€‚
- å…¨è‡ªåŠ¨ **ä»£ç ç”Ÿæˆ** ï¼Œå¯ä½¿ç”¨ç³»ç»Ÿç¼–è¯‘æˆdllè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ’ä»¶ç”Ÿæˆä»£ç†è°ƒç”¨ã€‚
- ä»£ç†æ–¹æ³•ä¼šç”Ÿæˆå¼‚æ­¥æ–¹æ³•ï¼Œæ”¯æŒå®¢æˆ·ç«¯å¼‚æ­¥è°ƒç”¨ã€‚
- **æ”¯æŒoutã€ref** ï¼Œå‚æ•°è®¾å®šé»˜è®¤å€¼ç­‰ã€‚
- éšå¿ƒæ‰€æ¬²çš„åºåˆ—åŒ–æ–¹å¼ï¼Œé™¤äº†è‡ªå¸¦çš„[è¶…è½»é‡çº§äºŒè¿›åˆ¶åºåˆ—åŒ–](https://blog.csdn.net/qq_40374647/article/details/114178244?spm=1001.2014.3001.5501)ã€xmlåºåˆ—åŒ–å¤–ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±éšæ„ä½¿ç”¨å…¶ä»–åºåˆ—åŒ–ã€‚
- æ”¯æŒç¼–è¯‘å¼è°ƒç”¨ï¼Œä¹Ÿæ”¯æŒæ–¹æ³•å+å‚æ•°å¼è°ƒç”¨ã€‚
- **å…¨å¼‚å¸¸åé¦ˆ** ï¼ŒæœåŠ¡é‡Œå‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¼šä¸€å­—ä¸å·®çš„åé¦ˆåˆ°å®¢æˆ·ç«¯ã€‚
- è¶…ç®€å•ã€è‡ªç”±çš„**å›è°ƒæ–¹å¼** ã€‚

#### åˆ›å»ºRRQMRPCæœåŠ¡å™¨

æ–°å»ºç±»æ–‡ä»¶ï¼Œç»§æ‰¿äºServerProviderï¼Œå¹¶å°†å…¶ä¸­**å…¬å…±æ–¹æ³•**æ ‡è¯†ä¸º**RRQMRPCMethod**å³å¯ã€‚
```Csharp
public class Server: ServerProvider
{
    [RRQMRPCMethod]
    public string TestOne(string str)
    {
        return "è‹¥æ±æ£‹èŒ—";
    }
 }
```
#### å¯åŠ¨RRQMRPCæœåŠ¡å™¨

```Csharp
RPCService rpcService = new RPCService();
rpcService.RegistAllService();//æ³¨å†Œæ‰€æœ‰æœåŠ¡

TcpRPCParser tcpRPCParser = new TcpRPCParser();
tcpRPCParser.SerializeConverter = new BinarySerializeConverter();
tcpRPCParser.Bind(7789, 5);
tcpRPCParser.NameSpace = "RRQMTest";
Console.WriteLine("TCPè§£æå™¨æ·»åŠ å®Œæˆ");

rpcService.AddRPCParser("TcpParser", tcpRPCParser);

rpcService.OpenRPCServer();
Console.WriteLine("RPCå¯åŠ¨å®Œæˆ");

Console.ReadKey();

```

#### å®¢æˆ·ç«¯å¼•ç”¨

é¦–å…ˆå¾—ä¸‹è½½[RRQMRPCVSIXæ’ä»¶](https://gitee.com/RRQM_OS/RRQMRPCVSIX/releases)ï¼Œç„¶åå®‰è£…æ’ä»¶ï¼ŒæˆåŠŸåå³å‡»**ä»»æ„é¡¹ç›®**å³å¯çœ‹è§â€œ**é‡æ–°å¼•ç”¨RRQMRPC**â€æ¡ç›®ã€‚

<img src="https://i.loli.net/2021/05/18/xkr8caGp6eUql7d.jpg" width = "350" height = "200" alt="å›¾ç‰‡åç§°" align=center />

ç„¶åç‚¹å‡»ï¼Œ**å¼¹å‡ºçª—å£**ï¼Œè¾“å…¥**IPåŠç«¯å£**ï¼Œç‚¹å‡»ç¡®è®¤ï¼Œå³å¯**ä¸‹è½½å®Œæˆå¼•ç”¨**ï¼Œæ­¤æ—¶ä¼šåœ¨é¡¹ç›®ä¸‹ç”ŸæˆRRQMRPCæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å«æœ‰ä»£ç†æ–‡ä»¶ã€‚

<img src="https://i.loli.net/2021/05/18/V5gMDnv9k3etG6U.jpg" width = "300" height = "200" alt="å›¾ç‰‡åç§°" align=center />

#### åˆ›å»ºå®¢æˆ·ç«¯

```Csharp
RPCClient client = new RPCClient();

client.InitializedRPC(new IPHost("127.0.0.1:7789"));

Server server = new Server(client);

string mes=server.TestOne("RRQM");//è°ƒç”¨
```

#### RRQMRPCæ€§èƒ½æµ‹è¯•

 **è¯´æ˜ï¼š** 
å›¾ä¸€ã€å›¾äºŒã€å›¾ä¸‰åˆ†åˆ«ä¸º`UDPæ— åé¦ˆè°ƒç”¨`ã€`TCPæœ‰åé¦ˆè°ƒç”¨`ã€`TCPè¿æ¥æ± æœ‰åé¦ˆè°ƒç”¨`ã€‚è°ƒç”¨æ¬¡æ•°å‡ä¸º10wæ¬¡ï¼Œè°ƒç”¨æ€§èƒ½éå¸¸niceã€‚åœ¨æ— åé¦ˆä¸­ï¼Œååé‡è¾¾14.28wï¼Œåœ¨æœ‰åé¦ˆä¸­è¾¾2.72wï¼Œç®€ç›´ç§’æ€WCFï¼ˆWCFä½¿ç”¨httpåè®®ï¼Œåœ¨æœ¬æœºæµ‹è¯•ååé‡ä¸º310ï¼‰

![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0409/191343_e5827d04_8553710.png "å±å¹•æˆªå›¾.png")

![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0409/191501_abec9e45_8553710.png "å±å¹•æˆªå›¾.png")

![è¾“å…¥å›¾ç‰‡è¯´æ˜](https://images.gitee.com/uploads/images/2021/0409/191531_d7f0a8d4_8553710.png "å±å¹•æˆªå›¾.png")

#### ç¤ºä¾‹Demo

[RRQMBox](https://gitee.com/RRQM_OS/RRQMBox)


### 3.2 WebApi

WebApiåŠŸèƒ½ï¼Œç›®å‰ä»…ä»…é€‚ç”¨äºApiè°ƒç”¨ï¼Œä¸å…·å¤‡MVCå…¨éƒ¨åŠŸèƒ½ã€‚

#### ç‰¹ç‚¹
- å¤šçº¿ç¨‹å¤„ç†ã€‚
- é«˜æ€§èƒ½ï¼Œ100ä¸ªå®¢æˆ·ç«¯ï¼Œ10wæ¬¡è°ƒç”¨ï¼Œä»…ç”¨æ—¶17sã€‚
- **å…¨å¼‚å¸¸åé¦ˆ** ï¼ŒæœåŠ¡é‡Œå‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¼šä¸€å­—ä¸å·®çš„åé¦ˆåˆ°å®¢æˆ·ç«¯ã€‚
- æ”¯æŒå¤§éƒ¨åˆ†è·¯ç”±è§„åˆ™ã€‚

#### åˆ›å»ºWebApiæœåŠ¡å™¨

æ–°å»ºç±»æ–‡ä»¶ï¼Œç»§æ‰¿äº**ServerProvider**ï¼Œä½¿ç”¨**Rount**å±æ€§æŒ‡å®šè·¯ç”±è§„åˆ™ï¼ŒåŒæ—¶å°†å…¶ä¸­**å…¬å…±æ–¹æ³•**æ ‡è¯†ä¸º**Route**å³å¯ã€‚åŒæ—¶ä¹Ÿå¯åˆ¶å®šè·¯ç”±è§„åˆ™ã€‚

```Csharp
[Route("/[controller]/[action]")]
public class Server: ServerProvider
{
    [Route]
    public string TestOne(string str)
    {
        return "è‹¥æ±æ£‹èŒ—";
    }
 }
```
#### å¯åŠ¨WebApiæœåŠ¡å™¨

```Csharp
RPCService rpcService = new RPCService();
rpcService.RegistAllService();//æ³¨å†Œæ‰€æœ‰æœåŠ¡

WebApiParser webApiParser = new WebApiParser();
webApiParser.Bind(7792, 5);
Console.WriteLine("webApiParserè§£æå™¨æ·»åŠ å®Œæˆ");

rpcService.AddRPCParser("webApiParser", webApiParser);

rpcService.OpenRPCServer();
Console.WriteLine("RPCå¯åŠ¨å®Œæˆ");

Console.ReadKey();

```

æ­¤æ—¶å³å¯ä½¿ç”¨PostManagentæµ‹è¯•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®ã€‚

**æ³¨æ„ï¼šé»˜è®¤æ•°æ®æ ¼å¼æ˜¯xmlï¼Œå¦‚éœ€Jsonï¼Œè¯·è¯¦çœ‹è¯´æ˜æ–‡æ¡£ã€‚**

#### æ€§èƒ½æµ‹è¯•

![](https://i.loli.net/2021/05/23/vZj8EnSYA1aehH7.jpg)

### 3.3 XmlRpc

å®Œç¾æ”¯æŒXmlRpcæ•°æ®ç±»å‹ï¼Œç±»å‹åµŒå¥—ï¼ŒArrayç­‰ã€‚

#### åˆ›å»ºXmlRpcæœåŠ¡å™¨

æ–°å»ºç±»æ–‡ä»¶ï¼Œç»§æ‰¿äº**ServerProvider**ï¼ŒåŒæ—¶å°†å…¶ä¸­**å…¬å…±æ–¹æ³•**æ ‡è¯†ä¸º**XmlRpc**å³å¯ã€‚

```Csharp
public class Server: ServerProvider
{
    [XmlRpc]
    public string TestOne(string str)
    {
        return "è‹¥æ±æ£‹èŒ—";
    }
 }
```
#### å¯åŠ¨XmlRpcæœåŠ¡å™¨

```Csharp
RPCService rpcService = new RPCService();
rpcService.RegistAllService();//æ³¨å†Œæ‰€æœ‰æœåŠ¡

XmlRpcParser xmlRpcParser = new XmlRpcParser();
xmlRpcParser.Bind(7793, 5);
Console.WriteLine("xmlRpcParserè§£æå™¨æ·»åŠ å®Œæˆ");

rpcService.AddRPCParser("xmlRpcParser", xmlRpcParser);

rpcService.OpenRPCServer();
Console.WriteLine("RPCå¯åŠ¨å®Œæˆ");

Console.ReadKey();

```

æ­¤æ—¶å³å¯ä½¿ç”¨CookComputing.XmlRpcV2æµ‹è¯•ã€‚

### 3.4 JsonRpc

#### åˆ›å»ºJsonRpcæœåŠ¡å™¨

æ–°å»ºç±»æ–‡ä»¶ï¼Œç»§æ‰¿äº**ServerProvider**ï¼ŒåŒæ—¶å°†å…¶ä¸­**å…¬å…±æ–¹æ³•**æ ‡è¯†ä¸º**JsonRpc**å³å¯ã€‚

```Csharp
public class Server: ServerProvider
{
    [JsonRpc]
    public string TestOne(string str)
    {
        return "è‹¥æ±æ£‹èŒ—";
    }
 }
```
#### å¯åŠ¨XmlRpcæœåŠ¡å™¨

```Csharp
RPCService rpcService = new RPCService();
rpcService.RegistAllService();//æ³¨å†Œæ‰€æœ‰æœåŠ¡

JsonRpcParser jsonRpcParser = new JsonRpcParser();
jsonRpcParser.Bind(7793, 5);
Console.WriteLine("jsonRpcParserè§£æå™¨æ·»åŠ å®Œæˆ");

rpcService.AddRPCParser("jsonRpcParser", jsonRpcParser);

rpcService.OpenRPCServer();
Console.WriteLine("RPCå¯åŠ¨å®Œæˆ");

Console.ReadKey();

```

æ­¤æ—¶å³å¯ä½¿ç”¨Jsonæ ¼å¼æ•°æ®è°ƒç”¨RPCã€‚

```Csharp
TcpClient tcpClient = new TcpClient();
//tcpClient.OnReceived += TcpClient_OnReceived;//æ¥æ”¶è¿”å›æ•°æ®ã€‚
tcpClient.Connect(new IPHost("127.0.0.1:7793"));

tcpClient.Send(Encoding.UTF8.GetBytes("{\"jsonrpc\":\"2.0\",\"method\":\"TestOne\",\"params\":[5],\"id\":1}\r\n"));//æ­¤å¤„å¿…é¡»åŒ…å«â€œ\r\nâ€ã€‚


```


## è‡´è°¢

è°¢è°¢å¤§å®¶å¯¹æˆ‘çš„æ”¯æŒï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·åŠ ç¾¤QQï¼š234762506è®¨è®ºã€‚


## ğŸ’• æ”¯æŒæœ¬é¡¹ç›®
æ‚¨çš„æ”¯æŒå°±æ˜¯æˆ‘ä¸æ‡ˆåŠªåŠ›çš„åŠ¨åŠ›ã€‚æ‰“èµæ—¶è¯·ä¸€å®šç•™ä¸‹æ‚¨çš„ç§°å‘¼ã€‚

 **èµåŠ©æ€»é‡‘é¢:516.6ï¿¥** 

**èµåŠ©åå•ï¼š** 

ï¼ˆä»¥ä¸‹æ’ååªæŒ‰ç…§æ‰“èµæ—¶é—´é¡ºåºï¼‰

> 1.Bobo Joker

> 2.UnitySir

> 3.Coffee

> 4.Ninety

> 5.*ç¼

<img src="https://images.gitee.com/uploads/images/2021/0330/234046_7662fb8c_8553710.png" width = "600" height = "400" alt="å›¾ç‰‡åç§°" align=center />

