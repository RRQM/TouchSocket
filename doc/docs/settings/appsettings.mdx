---
id: appsettings
title: 1. 应用配置
sidebar_label: 1. 应用配置
---

:::tip 配置智能提示和校验

如需编写配置的时候提供智能提示和校验，可查看 【[2.7 JSON Schema 使用](../jsonschema)】

只需要在 `.json` 文件头部添加下列配置即可：

```json showLineNumbers {2}
{
  "$schema": "https://gitee.com/dotnetchina/Furion/raw/v4/schemas/v4/furion-schema.json"
}
```

:::

## 1.1 关于配置

应用配置指的是 `Furion` 框架全局配置选项。

## 1.2 配置信息

- `AppSettings`：配置根节点
  - `InjectMiniProfiler`：是否注入 `MiniProfiler`，`bool` 类型，默认 `true`，**关闭 Swagger 左上角监听**
  - `InjectSpecificationDocument`：是否启用 `Swagger` 文档，`bool` 类型，默认 `true`，**生产环境可关闭**
  - `EnabledReferenceAssemblyScan`：是否启用通过 `dll` 方式添加的引用程序集扫描，`bool` 类型，默认 `false`
  - `ExternalAssemblies`：配置外部程序集完整路径，支持动态加载，`string[]` 类型，默认 `[]`
  - `ExcludeAssemblies`：排除扫描的程序集名称，`string[]` 类型，默认 `[]`
  - `PrintDbConnectionInfo`：是否打印数据库连接信息到 `MiniProfiler` 中，`bool` 类型，默认 `true`
  - `SupportPackageNamePrefixs`：配置支持的包前缀名，`string[]` 类型，默认 `[]`
  - `OutputOriginalSqlExecuteLog`：是否输出原始 Sql 执行日志（ADO.NET），默认 `true`
  - `VirtualPath`：配置虚拟目录，必须以 `/` 开头

## 1.3 配置示例

```json showLineNumbers
{
  "AppSettings": {
    "InjectMiniProfiler": false
  }
}
```

## 1.4 特别注意

默认情况下，`Furion` 框架会自动扫描根目录下的 `*.json` 和 `*.config.xml` 文件载入配置中，如需忽略个别文件，需在 `appsettings.json` 配置文件根节点下配置 `IgnoreConfigurationFiles` 节点即可，`string[]` 类型，如：

```json showLineNumbers
{
  "IgnoreConfigurationFiles": ["runtime.json"]
}
```

如果需要自定义扫描目录（非根目录），需在 `appsettings.json` 中添加下面配置：

:::important 支持版本

在 `v2.16.7+` 版本有效

:::

```json showLineNumbers
{
  "ConfigurationScanDirectories": ["目录1名称", "目录1名称/子目录名称"]
}
```

**必须在 `appsettings.json` 文件中配置才有效**
