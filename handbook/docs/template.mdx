---
id: template
title: 2.2 å®˜æ–¹è„šæ‰‹æ¶
sidebar_label: 2.2 å®˜æ–¹è„šæ‰‹æ¶
---

import useBaseUrl from "@docusaurus/useBaseUrl";

:::important ç‰¹åˆ«è¯´æ˜

**è„šæ‰‹æ¶ä¸æ˜¯å®‰è£…åœ¨é¡¹ç›®ä¸­çš„ï¼** è€Œæ˜¯é€šè¿‡ `CMD` æˆ– `PowerShell` å®‰è£…åˆ°æ“ä½œç³»ç»Ÿä¸­çš„ã€‚

:::

## 2.2.1 è„šæ‰‹æ¶

`TouchSocket` å®˜æ–¹æä¾›äº†å¤šç§ `Web` åº”ç”¨ç±»å‹çš„è„šæ‰‹æ¶ï¼Œæ–¹ä¾¿å¤§å®¶å¿«é€Ÿåˆ›å»ºå¤šå±‚æ¶æ„é¡¹ç›®ã€‚ç›®å‰æ”¯æŒä»¥ä¸‹åº”ç”¨è„šæ‰‹æ¶ï¼š

### 2.2.1.1 `TouchSocket + EFCore`

|                                                                 æ¨¡æ¿ç±»å‹                                                                 | åç§°                             | ç‰ˆæœ¬                                                                                                                                                                 | å…³é”®è¯                 | æè¿°                   |
| :--------------------------------------------------------------------------------------------------------------------------------------: | -------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------- | ---------------------- |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.Mvc/)        | TouchSocket.Template.Mvc              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.Mvc.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.Mvc/)                           | ğŸ‘‰ **TouchSocketmvc**       | Mvc æ¨¡æ¿               |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.Api/)        | TouchSocket.Template.Api              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.Api.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.Api/)                           | ğŸ‘‰ **TouchSocketapi**       | WebApi æ¨¡æ¿            |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.App/)        | TouchSocket.Template.App              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.App.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.App/)                           | ğŸ‘‰ **TouchSocketapp**       | Mvc/WebApi æ¨¡æ¿        |
|      [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.Razor/)       | TouchSocket.Template.Razor            | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.Razor.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.Razor/)                       | ğŸ‘‰ **TouchSocketrazor**     | RazorPages æ¨¡æ¿        |
| [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.RazorWithWebApi/)  | TouchSocket.Template.RazorWithWebApi  | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.RazorWithWebApi.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.RazorWithWebApi/)   | ğŸ‘‰ **TouchSocketrazorapi**  | RazorPages/WebApi æ¨¡æ¿ |
|      [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.Blazor/)      | TouchSocket.Template.Blazor           | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.Blazor.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.Blazor/)                     | ğŸ‘‰ **TouchSocketblazor**    | Blazor æ¨¡æ¿            |
| [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.Template.BlazorWithWebApi/) | TouchSocket.Template.BlazorWithWebApi | [![nuget](https://img.shields.io/nuget/v/TouchSocket.Template.BlazorWithWebApi.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.Template.BlazorWithWebApi/) | ğŸ‘‰ **TouchSocketblazorapi** | Blazor/WebApi æ¨¡æ¿     |

### 2.2.1.2 `TouchSocket + SqlSugar`

|                                                                     æ¨¡æ¿ç±»å‹                                                                      | åç§°                                      | ç‰ˆæœ¬                                                                                                                                                                                   | å…³é”®è¯             | æè¿°                   |
| :-----------------------------------------------------------------------------------------------------------------------------------------------: | ----------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------ | ---------------------- |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Mvc/)        | TouchSocket.SqlSugar.Template.Mvc              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.Mvc.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Mvc/)                           | ğŸ‘‰ **fsmvc**       | Mvc æ¨¡æ¿               |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Api/)        | TouchSocket.SqlSugar.Template.Api              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.Api.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Api/)                           | ğŸ‘‰ **fsapi**       | WebApi æ¨¡æ¿            |
|       [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.App/)        | TouchSocket.SqlSugar.Template.App              | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.App.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.App/)                           | ğŸ‘‰ **fsapp**       | Mvc/WebApi æ¨¡æ¿        |
|      [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Razor/)       | TouchSocket.SqlSugar.Template.Razor            | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.Razor.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Razor/)                       | ğŸ‘‰ **fsrazor**     | RazorPages æ¨¡æ¿        |
| [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.RazorWithWebApi/)  | TouchSocket.SqlSugar.Template.RazorWithWebApi  | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.RazorWithWebApi.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.RazorWithWebApi/)   | ğŸ‘‰ **fsrazorapi**  | RazorPages/WebApi æ¨¡æ¿ |
|      [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Blazor/)      | TouchSocket.SqlSugar.Template.Blazor           | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.Blazor.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.Blazor/)                     | ğŸ‘‰ **fsblazor**    | Blazor æ¨¡æ¿            |
| [![nuget](https://shields.io/badge/-Nuget-yellow?cacheSeconds=604800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.BlazorWithWebApi/) | TouchSocket.SqlSugar.Template.BlazorWithWebApi | [![nuget](https://img.shields.io/nuget/v/TouchSocket.SqlSugar.Template.BlazorWithWebApi.svg?cacheSeconds=10800)](https://www.nuget.org/packages/TouchSocket.SqlSugar.Template.BlazorWithWebApi/) | ğŸ‘‰ **fsblazorapi** | Blazor/WebApi æ¨¡æ¿     |

## 2.2.2 å®‰è£…è„šæ‰‹æ¶

æ‰“å¼€ `CMD` æˆ– `Powershell` æ‰§è¡Œæ¨¡æ¿å®‰è£…å‘½ä»¤ï¼ˆæ–°ç‰ˆæœ¬ `--install` å¯æ¢æˆ `install`ï¼‰ï¼š

```bash showLineNumbers
// EFCore
dotnet new --install TouchSocket.Template.Api::4.8.4.8
// SqlSugar
dotnet new --install TouchSocket.SqlSugar.Template.Api::4.8.4.8
```

:::tip `SqlSugar` è„šæ‰‹æ¶åŸºæœ¬ä½¿ç”¨

åœ¨ `SqlSugar` è„šæ‰‹æ¶ä¸­ï¼Œ`Core` å±‚åŒ…å«äº†ä¸€ä¸ª `DbContext.cs` ç±»ï¼Œå¯é€šè¿‡ `DbContext.Instance` å°±å¯ä»¥è·å–åˆ° `SqlSugarScope` å¯¹è±¡ã€‚

æ•°æ®åº“é“¾æ¥å­—ç¬¦ä¸²åœ¨å¯åŠ¨å±‚ `appsettings.json` æ–‡ä»¶çš„ `ConnectionConfigs` èŠ‚ç‚¹ä¸­é…ç½®ï¼Œå¯¹åº”çš„æ˜¯ `SqlSugar` ä¸­çš„ `ConnectionConfig[]` å¯¹è±¡ã€‚

:::

## 2.2.3 ä½¿ç”¨è„šæ‰‹æ¶

```bash showLineNumbers {1,4-6,9-11}
dotnet new TouchSocketapi -n é¡¹ç›®åç§° -f .NETç‰ˆæœ¬

# EFCoreï¼šæ”¯æŒåˆ›å»º .NET5-7 ç‰ˆæœ¬
dotnet new TouchSocketapi -n MyProject -f net5
dotnet new TouchSocketapi -n MyProject -f net6
dotnet new TouchSocketapi -n MyProject -f net7

# SqlSugarï¼šæ”¯æŒåˆ›å»º .NET5-7 ç‰ˆæœ¬
dotnet new fsapi -n MyProject -f net5
dotnet new fsapi -n MyProject -f net6
dotnet new fsapi -n MyProject -f net7
```

è¿™æ ·å°±å¯ä»¥ç”Ÿæˆé¡¹ç›®ä»£ç äº†ï¼Œ**ç”Ÿæˆä¹‹åæ¨èå°†æ‰€æœ‰çš„ `nuget` åŒ…æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚**

:::tip å…³äºé¡¹ç›®åç§°å’Œ `.NET` ç‰ˆæœ¬

é€šè¿‡è„šæ‰‹æ¶ç”Ÿæˆçš„é¡¹ç›®åç§°ä¸èƒ½åŒ…å« `çŸ­æ¨ªçº¿` ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æœ‰è¯¥éœ€æ±‚ï¼Œå¯åœ¨ç”Ÿæˆä¹‹åé€šè¿‡ `Visual Studio` è¿›è¡Œæ‰‹åŠ¨ä¿®æ”¹ã€‚

`-f` ç‰ˆæœ¬å‚æ•°æ‰€æœ‰é€‰é¡¹ï¼š`net5`ï¼Œ`net6`ï¼Œ`net7`ã€‚

:::

:::important ç‰¹åˆ«æé†’

`TouchSocketapi` å¯¹åº”çš„æ˜¯ä¸Šé¢åˆ—è¡¨çš„ `å…³é”®å­—`ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ `dotnet new --list` æŸ¥çœ‹ã€‚

æƒ³äº†è§£æ›´å¤šå¯ä»¥ä½¿ç”¨ `dotnet new å…³é”®å­— --help` æŸ¥çœ‹æ›´å¤šå‚æ•°ã€‚

:::

## 2.2.4 è„šæ‰‹æ¶æ›´æ–°

åªéœ€è¦é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæ›¿æ¢å³å¯ï¼Œå¦‚ï¼š

```bash showLineNumbers
dotnet new --install TouchSocket.Template.Api::4.8.4.8
```

ä¸å¸¦ç‰ˆæœ¬å·æ€»æ˜¯å®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ã€‚

## 2.2.5 `Visual Studio` é›†æˆ

é€šè¿‡å‘½ä»¤å®‰è£…è„šæ‰‹æ¶åï¼Œå‡çº§ `Visual Studio` åˆ°æœ€æ–°ç‰ˆå¯ä½¿ç”¨å¯è§†åŒ–æ–¹å¼åˆ›å»ºå“¦ã€‚

<img src={useBaseUrl("img/ksh.png")} />

## 2.2.6 `å…³äº MVC æ·»åŠ åŒºåŸŸå‡ºé”™é—®é¢˜`

ç”±äº `TouchSocket` åº•å±‚ä¾èµ–äº† `Microsoft.CodeAnalysis.CSharp` åŒ…ï¼Œæ‰€ä»¥å¯èƒ½é€šè¿‡ `Viusal Studio` çš„ç•Œé¢æ·»åŠ  `Area åŒºåŸŸ` æ—¶ä¼šå‡ºé”™ï¼Œè¿™æ—¶å€™åªéœ€è¦åœ¨ `Web.Entry` å±‚å®‰è£…ä¸‹é¢å‡ ä¸ªåŒ…å³å¯ï¼š

- `Microsoft.CodeAnalysis.CSharp.Features`
- `Microsoft.CodeAnalysis.CSharp.Scripting`
- `Microsoft.CodeAnalysis.VisualBasic.Features`
- `Microsoft.CodeAnalysis.Workspaces.MSBuild`
- `Microsoft.VisualStudio.Web.CodeGeneration.Design`

## 2.2.7 æ­å»ºè„šæ‰‹æ¶

è„šæ‰‹æ¶å¯ä»¥æå¤§çš„æé«˜æˆ‘ä»¬æ­å»ºæ–°é¡¹ç›®çš„é€Ÿåº¦ï¼Œæ¨èä¸¤ç¯‡æ–‡ç« ç»™å¤§å®¶å­¦ä¹ ï¼š

[https://www.cnblogs.com/laozhang-is-phi/p/10205495.html](https://www.cnblogs.com/laozhang-is-phi/p/10205495.html)

[https://www.cnblogs.com/catcher1994/p/10061470.html](https://www.cnblogs.com/catcher1994/p/10061470.html)

**æ¨èç›´æ¥æ‹·è´ `TouchSocket` è„šæ‰‹æ¶æ–‡ä»¶å¤¹è¿›è¡Œä¿®æ”¹ï¼Œå¯é¿å…å¾ˆå¤šé—®é¢˜ã€‚**

[TouchSocket è„šæ‰‹æ¶æºç ](https://gitee.com/rrqm_home/TouchSocket/tree/v4/templates)

## 2.2.8 åé¦ˆä¸å»ºè®®

:::note ä¸æˆ‘ä»¬äº¤æµ

ç»™ TouchSocket æ [Issue](https://gitee.com/rrqm_home/TouchSocket/issues/new?issue)ã€‚

:::

---

:::note äº†è§£æ›´å¤š

æƒ³äº†è§£æ›´å¤š `æ¨¡æ¿çŸ¥è¯†` çŸ¥è¯†å¯æŸ¥é˜… [dotnet-new æ¨¡æ¿](https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-new) ç« èŠ‚ã€‚

:::
